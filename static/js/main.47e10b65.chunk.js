(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{21:function(e,t,n){e.exports={mainComponent:"Login_mainComponent__2bLYk",email:"Login_email__1AqiD",password:"Login_password__2yWqz",button:"Login_button__3bVG5"}},24:function(e,t,n){e.exports={form:"Form_form__3M9DH",mainContainer:"Form_mainContainer__2ePOm"}},29:function(e,t,n){e.exports={header:"Header_header__1AeDr",moneyContent:"Header_moneyContent__1w4Bs"}},33:function(e,t,n){e.exports={table:"Table_table____xsr"}},37:function(e,t,n){e.exports=n(50)},46:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),c=n.n(i),l=n(18),o=n(8),u=(n(46),n(4)),s=n(5),d=n(7),m=n(6),h=n(3),p=n(10),b=n(2),E=n(15),f=n.n(E),v=n(20),O=function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(e){return{type:"SAVE_CURRENCY",currencies:e}},y=n(21),g=n.n(y),x=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).state={email:"",isEmailValid:!1,isPasswordValid:!1,redirect:!1},e.handleEmail=e.handleEmail.bind(Object(p.a)(e)),e.handleLogin=e.handleLogin.bind(Object(p.a)(e)),e}return Object(s.a)(n,[{key:"handleEmail",value:function(e){this.setState({email:e.target.value,isEmailValid:!(!e.target.value.includes("@")||!e.target.value.includes(".com"))})}},{key:"handleLogin",value:function(){var e=this.state.email;(0,this.props.addEmail)(e),this.setState({redirect:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.isPasswordValid,i=t.isEmailValid,o=t.redirect;return o?r.a.createElement(c.a,{to:"/carteira"}):r.a.createElement("div",{className:g.a.mainComponent},r.a.createElement("input",{className:g.a.email,"data-testid":"email-input",name:"email",type:"email",value:n,onChange:this.handleEmail,placeholder:"E-mail"}),r.a.createElement("input",{placeholder:"Password",className:g.a.password,"data-testid":"password-input",type:"password",onChange:function(t){return e.setState({isPasswordValid:t.target.value.length>=6})}}),r.a.createElement(l.b,{to:"/carteira"},r.a.createElement("button",{className:g.a.button,disabled:!(a&&i),type:"button",onClick:function(){e.handleLogin()}},"Entrar")))}}]),n}(r.a.Component),C=Object(o.b)(null,(function(e){return{addEmail:function(t){return e(function(e){return{type:"LOGIN",email:e}}(t))}}}))(x),k=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C,null))}}]),n}(r.a.Component),_=(n(49),n(29)),w=n.n(_),T=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"handleTotal",value:function(){return this.props.despesas.map((function(e){var t=Number(e.exchangeRates[e.currency].ask);return Number(e.value)*t})).reduce((function(e,t){return e+=t}),0).toFixed(2)}},{key:"render",value:function(){var e=this.props.email;return r.a.createElement("header",{className:w.a.header},r.a.createElement("h3",{"data-testid":"email-field"},e),r.a.createElement("div",{className:w.a.moneyContent},r.a.createElement("p",{"data-testid":"total-field"},"R$".concat(this.handleTotal())),r.a.createElement("p",{"data-testid":"header-currency-field"},"BRL")))}}]),n}(r.a.Component),M=Object(o.b)((function(e){return{email:e.user.email,despesas:e.wallet.expenses}}),null)(T),N=n(33),D=n.n(N),S=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).handleMap=e.handleMap.bind(Object(p.a)(e)),e}return Object(s.a)(n,[{key:"handleMap",value:function(){var e=this.props,t=e.despesas,n=e.remove,a=e.setEditor;return r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.tag),r.a.createElement("td",null,e.method),r.a.createElement("td",null,e.value),r.a.createElement("td",null,e.exchangeRates[e.currency].name),r.a.createElement("td",null,(Math.round(100*e.exchangeRates[e.currency].ask)/100).toFixed(2)),r.a.createElement("td",null,(Math.round(Number(e.value)*Number(e.exchangeRates[e.currency].ask)*100)/100).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:function(){return a(e.id)},"data-testid":"edit-btn"},"Editar"),r.a.createElement("button",{onClick:function(){return n(e.id)},"data-testid":"delete-btn",type:"button"},"Excluir")))})))}},{key:"render",value:function(){return r.a.createElement("table",{className:D.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))),this.handleMap())}}]),n}(r.a.Component),A=Object(o.b)((function(e){return{despesas:e.wallet.expenses}}),(function(e){return{remove:function(t){return e(function(e){return{type:"REMOVE",id:e}}(t))},setEditor:function(t){return e({type:"EDIT_EXPENSE",idToEdit:t})}}}))(S),R=n(24),V=n.n(R),L=n(23),I=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state=Object(b.a)({},e.initialState),a.handleInputs=a.handleInputs.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleCurrency=a.handleCurrency.bind(Object(p.a)(a)),a.handleMethods=a.handleMethods.bind(Object(p.a)(a)),a.handleTags=a.handleTags.bind(Object(p.a)(a)),a.handlAddExpenses=a.handlAddExpenses.bind(Object(p.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.getFetch)()}},{key:"handleChange",value:function(e){this.setState(Object(L.a)({},e.target.name,e.target.value))}},{key:"handleInputs",value:function(){var e=this.state,t=e.value,n=e.description;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"valor"},"Valor despesa:",r.a.createElement("input",{onChange:this.handleChange,"data-testid":"value-input",name:"value",type:"number",value:t})),r.a.createElement("label",{htmlFor:"descri\xe7\xe3o"},"Descri\xe7\xe3o despesa:",r.a.createElement("input",{onChange:this.handleChange,"data-testid":"description-input",name:"description",type:"text",value:n})))}},{key:"handleCurrency",value:function(){var e=this.state.currency,t=this.props.currencies;if(t.length>0)return r.a.createElement("select",{name:"currency",onChange:this.handleChange,value:e,"data-testid":"currency-input"},t.map((function(e){return r.a.createElement("option",{"data-testid":e,key:e},e)})))}},{key:"handleMethods",value:function(){var e=this.state.method;return r.a.createElement("select",{onChange:this.handleChange,name:"method",value:e,"data-testid":"method-input"},["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"].map((function(e){return r.a.createElement("option",{key:e},e)})))}},{key:"handleTags",value:function(){var e=["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"],t=this.state.tag;return r.a.createElement("select",{name:"tag",onChange:this.handleChange,value:t,"data-testid":"tag-input"},e.map((function(e){return r.a.createElement("option",{key:e},e)})))}},{key:"handlAddExpenses",value:function(){var e=this.props,t=e.buttonAction,n=e.initialState;console.log(t),t(this.state),this.setState(Object(b.a)({},n))}},{key:"render",value:function(){var e=this.props.buttonText;return r.a.createElement("div",{className:V.a.form,style:"Adicionar despesa"===e?{"background-color":"#32B8F0"}:{"background-color":"#00CC00"}},this.handleInputs(),this.handleCurrency(),this.handleMethods(),this.handleTags(),r.a.createElement("button",{type:"button",onClick:this.handlAddExpenses},e))}}]),n}(r.a.Component),P=Object(o.b)((function(e){return{currencies:e.wallet.currencies}}),(function(e){return{getFetch:function(){return e(function(){var e=Object(v.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:n=e.sent,a=Object.values(n).filter((function(e){return"D\xf3lar Turismo"!==e.name})).map((function(e){return e.code})),t(j(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(I),F=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.addExpenses;return r.a.createElement(P,{buttonText:"Adicionar despesa",initialState:{value:"",description:"",currency:"USD",method:"Dinheiro",tag:"alimenta\xe7\xe3o"},buttonAction:e})}}]),n}(r.a.Component),X=Object(o.b)(null,(function(e){return{addExpenses:function(t){return e((n=t,function(){var e=Object(v.a)(f.a.mark((function e(t){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:a=e.sent,r=Object(b.a)(Object(b.a)({},n),{},{exchangeRates:a}),t({type:"ADD_EXPENSE",expenses:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n}}}))(F),B=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.expenses,n=e.idToEdit,a=e.saveExpenses,i=Object(b.a)({},t.find((function(e){return e.id===n})));return delete i.exchangeRates,r.a.createElement(P,{initialState:i,buttonText:"Editar despesa",buttonAction:a})}}]),n}(r.a.Component),W=Object(o.b)((function(e){return{expenses:e.wallet.expenses,idToEdit:e.wallet.idToEdit}}),(function(e){return{saveExpenses:function(t){return e({type:"SAVE_EDITED_EXPENSE",payload:t})}}}))(B),z=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.editor;return r.a.createElement("div",{className:V.a.mainContainer},r.a.createElement(M,null),e?r.a.createElement(W,null):r.a.createElement(X,null),r.a.createElement(A,null))}}]),n}(r.a.Component),G=Object(o.b)((function(e){return{editor:e.wallet.editorMode}}),null)(z),H=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.title="My Expenses"}},{key:"render",value:function(){return r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:k}),r.a.createElement(h.a,{path:"/carteira",component:G}))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=n(14),Y=n(34),q=n(35),J={email:""};var $=n(36),K={currencies:[],expenses:[],id:0,editorMode:!1,idToEdit:null},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,n=Object(b.a)({id:e.id},t.expenses);switch(t.type){case"SAVE_CURRENCY":return Object(b.a)(Object(b.a)({},e),{},{currencies:t.currencies});case"ADD_EXPENSE":return Object(b.a)(Object(b.a)({},e),{},{expenses:[].concat(Object($.a)(e.expenses),[n]),id:e.id+1});case"REMOVE":return Object(b.a)(Object(b.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.id}))});case"EDIT_EXPENSE":return Object(b.a)(Object(b.a)({},e),{},{editorMode:!0,idToEdit:t.idToEdit});case"SAVE_EDITED_EXPENSE":return Object(b.a)(Object(b.a)({},e),{},{editorMode:!1,idToEdit:null,expenses:e.expenses.map((function(n){return n.id===e.idToEdit?Object(b.a)(Object(b.a)({},n),t.payload):n}))});default:return e}},Z=Object(U.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(b.a)(Object(b.a)({},e),{},{email:t.email});default:return e}},wallet:Q}),ee=Object(U.createStore)(Z,Object(Y.composeWithDevTools)(Object(U.applyMiddleware)(q.a)));c.a.render(r.a.createElement(l.a,null,r.a.createElement(o.a,{store:ee},r.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.47e10b65.chunk.js.map